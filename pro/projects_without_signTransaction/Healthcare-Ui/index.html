<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Health Care</title>

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script type="text/javasript" src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>

  <script src="https://unpkg.com/ipfs-api/dist/index.min.js"></script>
  <script src="buffer.js"></script>
  <script src="aes.js"></script>


  <!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script> -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.3.1.min.js"><\/script>')</script>

  <script src="sweetalert.min.js"></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">


  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript"></script> -->



</head>
<style>
  h3{
    color: #1d2869;
  }
  h4{
    color: #1d2869;
  }
.b{
  color: white;
}
.container{
  height: 100px;
}
.panel-primary>.panel-heading {
    color: #fff;
    background-color: #1d2869;
    border-color: #1d2869;
}

  .active {
    color: white;
    /* background:light gray; */
  }


  #absolute {
    position: absolute;
    top: 0px;
    right: 50px;
  }

  .btn {
    border: 2px solid black;
    background-color: white;
    color: black;
    padding: 5px 10px;
    font-size: 15px;
    cursor: pointer;
  }

  /* Green */

  .success {
    border-color: #1d2869;
    color: black;
  }

  .success:hover {
    color: black;

  }

  .nav-tabs>li>a {
    margin-right: 2px;
    line-height: 1.42857143;
    border: 1px solid transparent;
    border-radius: 7px 8px 0 0;
    padding-top: 28px;
  }

  .navbar-nav>li>a {
    padding-top: 23px;
    padding-bottom: 17px;
  }

  div.home-banner-body {
    background: url(health.svg) top center no-repeat ;
    background-position: top; 
    /* width: 100%; */
    background-size: contain;
    min-height: 460px;
    background-attachment: fixed;
    background-position-y: 100px;
  }

  .home-banner-fotter {
    overflow: hidden;
    height: 80px;
    padding: 17px 0;
    background-color: #1d2869;
    text-align: center;
  }

  .home-banner-footer-wrapper {
    width: auto;
    margin: 0 auto;
    display: inline-block;
  }

  .banner-footer-item:not(:last-child) {
    border-right: 1px solid #4a5387;
  }

  .banner-footer-item {
    float: left;
    text-align: center;
    color: #FFF;
    cursor: pointer;
    text-decoration: none;
  }

/* googleform */
.group 			  { 
  position:relative; 
  margin-bottom:45px; 
}
.input 				{
  font-size:18px;
  padding:10px 10px 10px 5px;
  display:block;
  width:300px;
  border:none;
  border-bottom:1px solid #757575;
}
.input:focus 		{ outline:none; }

/* LABEL ======================================= */
label 				 {
  color:#999; 
  font-size:18px;
  font-weight:normal;
  position:absolute;
  pointer-events:none;
  left:5px;
  top:10px;
  transition:0.2s ease all; 
  -moz-transition:0.2s ease all; 
  -webkit-transition:0.2s ease all;
}

/* active state */
.input:focus ~ label, .input:valid ~ label 		{
  top:-20px;
  font-size:14px;
  color:#5264AE;
}

/* BOTTOM BARS ================================= */
.bar 	{ position:relative; display:block; width:300px; }
.bar:before, .bar:after 	{
  content:'';
  height:2px; 
  width:0;
  bottom:1px; 
  position:absolute;
  background:#1d2869; 
  transition:0.2s ease all; 
  -moz-transition:0.2s ease all; 
  -webkit-transition:0.2s ease all;
}
.bar:before {
  left:50%;
}
.bar:after {
  right:50%; 
}

/* active state */
.input:focus ~ .bar:before, .input:focus ~ .bar:after {
  width:50%;
}

/* HIGHLIGHTER ================================== */
.highlight {
  position:absolute;
  height:60%; 
  width:100px; 
  top:25%; 
  left:0;
  pointer-events:none;
  opacity:0.5;
}

/* active state */
.input:focus ~ .highlight {
  -webkit-animation:inputHighlighter 0.3s ease;
  -moz-animation:inputHighlighter 0.3s ease;
  animation:inputHighlighter 0.3s ease;
}

/* ANIMATIONS ================ */
@-webkit-keyframes inputHighlighter {
	from { background:skyblue; }
  to 	{ width:0; background:transparent; }
}
@-moz-keyframes inputHighlighter {
	from { background:skyblue; }
  to 	{ width:0; background:transparent; }
}
@keyframes inputHighlighter {
	from { background:skyblue; }
  to 	{ width:0; background:transparent; }
}



</style>
</head>

<body onload="home();">

    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
      
          <div class="navbar-header">
              <img src="chainflux.png" style="width:23%">
          </div>
      
       
       
      </nav>
  <div class="container-fluid home-banner-body ">

  </div>
  <div>
    <div class="home-banner-fotter">
      <div class="home-banner-footer-wrapper">
      
        <ul class="nav navbar-nav" class="nav navbar-nav navbar-right," style="right:50px;">

          <li>
            <a onclick="home();" id="hm">Home</a>
          </li>
          <li>
            <a onclick="register();" id="add">Add Patient Details</a>
          </li>
          <li>
            <a onclick="upload();" id="upload">Upload Documents</a>
          </li>
          <li>
            <a onclick="view_details();" id="view">View Details</a>
          </li>
        </ul>
      </div>

      <!-- </div> -->
    </div>
  </div>
  <div class="container">
    <div class="panel-body ">
      <div id="result">
      </div>
      <div id="result_list">
      </div>
    </div>
    <div id="content" class="container">
    </div>
  </div>

  <script type="text/javascript">
    $(document).ready(function () {
      // navigation click actions 
      $('.scroll-link').on('click', function (event) {
        event.preventDefault();
        var sectionID = $(this).attr("data-id");
        scrollToID('#' + sectionID, 750);
      });
      // scroll to top action
      $('.scroll-top').on('click', function (event) {
        event.preventDefault();
        $('html, body').animate({ scrollTop: 0 }, 'slow');
      });
      // mobile nav toggle
      $('#nav-toggle').on('click', function (event) {
        event.preventDefault();
        $('#main-nav').toggleClass("open");
      });
    });
    // scroll function
    function scrollToID(id, speed) {
      var offSet = 0;
      var targetOffset = $(id).offset().top - offSet;
      var mainNav = $('#main-nav');
      $('html,body').animate({ scrollTop: targetOffset }, speed);
      if (mainNav.hasClass("open")) {
        mainNav.css("height", "1px").removeClass("in").addClass("collapse");
        mainNav.removeClass("open");
      }
    }
    if (typeof console === "undefined") {
      console = {
        log: function () { }
      };
    }

    const ipfs = window.IpfsApi('ipfs.infura.io', '5001', { "protocol": 'https' })
    if (typeof web3 !== 'undefined') {
      web3 = new Web3(web3.currentProvider);
    }
    else {
      // set the provider you want from Web3.providers
      web3 = new Web3(new Web3.providers.HttpProvider("http://ropsten.infura.io/"));
      if (!web3.isConnected())
        console.log("not connected");
      else
        console.log("connected");
    }
    web3.eth.defaultAccount = web3.eth.accounts[0];
    var abijson = web3.eth.contract([
      {
        "constant": false,
        "inputs": [
          {
            "name": "_patient_name",
            "type": "string"
          },
          {
            "name": "_patient_birth_date",
            "type": "uint256"
          },
          {
            "name": "_place_of_birth",
            "type": "string"
          },
          {
            "name": "_gender",
            "type": "bool"
          }
        ],
        "name": "get_info",
        "outputs": [
          {
            "name": "",
            "type": "uint256"
          }
        ],
        "payable": true,
        "stateMutability": "payable",
        "type": "function"
      },
      {
        "constant": false,
        "inputs": [
          {
            "name": "_patient_id",
            "type": "uint256"
          },
          {
            "name": "_file_name",
            "type": "string"
          },
          {
            "name": "_ipfs_hash",
            "type": "string"
          }
        ],
        "name": "store_info",
        "outputs": [
          {
            "name": "",
            "type": "bool"
          }
        ],
        "payable": true,
        "stateMutability": "payable",
        "type": "function"
      },
      {
        "inputs": [
          {
            "name": "_contract_address",
            "type": "address"
          }
        ],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "constructor"
      },
      {
        "constant": true,
        "inputs": [
          {
            "name": "",
            "type": "uint256"
          }
        ],
        "name": "Patient_detail_map",
        "outputs": [
          {
            "name": "patient_name",
            "type": "string"
          },
          {
            "name": "patient_birth_date",
            "type": "uint256"
          },
          {
            "name": "place_of_birth",
            "type": "string"
          },
          {
            "name": "gender",
            "type": "bool"
          },
          {
            "name": "file_number",
            "type": "uint256"
          }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
      },
      {
        "constant": true,
        "inputs": [],
        "name": "patient_ids",
        "outputs": [
          {
            "name": "",
            "type": "uint256"
          }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
      },
      {
        "constant": true,
        "inputs": [
          {
            "name": "_patient_id",
            "type": "uint256"
          },
          {
            "name": "_file_number",
            "type": "uint256"
          }
        ],
        "name": "show_data",
        "outputs": [
          {
            "name": "",
            "type": "string"
          },
          {
            "name": "",
            "type": "string"
          }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
      }
    ]);
    var _contract_address = abijson.at('0xdbb592f225c9a46c77b5d0e714b2bf887549978a');


    web3.version.getNetwork((err, netId) => {
      console.log("netId is" + netId)
      switch (netId) {
        case "1":
          console.log('This is mainnet')
          break
        case "2":
          console.log('This is the deprecated Morden test network.')
          break
        case "3":
          console.log('This is the ropsten test network.')
          break
        case "4":
          console.log('This is the Rinkeby test network.')
          break
        case "42":
          console.log('This is the Kovan test network.')
          break
        default:
          console.log('This is an unknown network.')
      }
    })

    function push_info() {
      // console.log("inside push")
      var a = document.getElementById("_patient_name").value;
      var b = document.getElementById("_patient_birth_date").value;

      // swal(b)
      var c = parseInt(Math.round(new Date(b).getTime() / 1000));
      var d = document.getElementById("_place_of_birth").value;
      var f = "";
      if (document.getElementById("g1").checked) {
        f = "true";
      }
      var gm;
      var gf;
      if ($('#g1').is(':checked')) {
        gm = 1;
      }
      else if ($('#g2').is(':checked')) {
        gf = 1;
      }

      if (($('#_patient_name').val() != '' && $('#_patient_birth_date').val() != '' && $('#_place_of_birth').val() != '') && (gm == 1 || gf == 1)) {
        _contract_address.get_info.sendTransaction(a, c, d, f, function (error, res) {
          if (!error) {
            mining2(res)

            // swal(res);
          }
          else {

            $('#_patient_name').val('');
            $('#_patient_birth_date').html('');
            $('#_patient_birth_date').val('');
            $('#_place_of_birth').val('')
            window.location.reload();
          }
        });
      }
      else {
        swal("Enter all the Details")
      }
    }

    function push_data() {

      var a = parseInt(document.getElementById("patient_id_push").value);
      _contract_address.patient_ids.call(function (e, r) {
        if (!e) {
          if (a > r || a < 1) {
            swal("Invalid Patient Id")
          }
          else {
            if ($('#patient_id_push').val() != '' && $('#file_name_push').val() != '')//&& document.getElementById('data').files !=''
            {
              var b = document.getElementById("file_name_push").value;

              var c = data.files[0];

              if (c == undefined) {
                swal("Please Choose a File")
              }
              else {
                // console.log(c)

                let reader = new window.FileReader()

                reader.readAsArrayBuffer(c);
                reader.onload = function (event) {
                  // The file's text will be printed here
                  const buf = buffer.Buffer(reader.result);
                  ipfs.files.add(buf, function (err, ipfsHash) {
                    if (!err) {
                      let hash = ipfsHash[0].hash;
                      _contract_address.store_info.sendTransaction(a, b, hash, function (errors, results) {
                        if (!errors) {
                          mining(results)
                        }
                        else {
                          // console.log("error");
                          $('#patient_id_push').val('')
                          $('#file_name_push').val('')
                          $('#data').val('')
                        }
                      });
                    }
                  })
                }
              }
            }
            else {
              swal("Enter all the Details")
            }
          }
        }
      })
    }
    ////////////////////////////

    function mining(hash) {
      var accountInterval = setInterval(function () {
        web3.eth.getTransactionReceipt(hash, function (err, result) {
          document.getElementById("loader").style.display = "block";

          if (result !== null) {
            clearInterval(accountInterval)


            if (result.status == 0x1) {

              document.getElementById("loader").style.display = "none";

              swal("Success");
            }
            else {

              swal("reverted");

            }

          }

        })
      }, 1000)
    }

    function mining2(hash) {
      var accountInterval = setInterval(function () {
        web3.eth.getTransactionReceipt(hash, function (err, result) {
          document.getElementById("loader2").style.display = "block";
          if (result !== null) {
            clearInterval(accountInterval)


            if (result.status == 0x1) {
              _contract_address.patient_ids.call(function (err, resu) {
                if (!err) {
                  document.getElementById("loader2").style.display = "none";

                  $('#_patient_name').html('');
                  $('#_patient_birth_date').html('');
                  $('#_place_of_birth').html('')


                  swal("patient id:  " + (parseInt(resu)))
                }
                else {
                  swal("error");
                }
              });


              swal("Success");

            }
            else {

              swal("reverted");

            }

          }
          // swal("success")
        })
      }, 1000)
    }

    ///////////////////////////   

    function show_details() {

      $("#_patient_name_show").html('');
      $("#_patient_birth_date_show").html('');
      $("#_place_of_birth_show").html('');
      $("#_gender_show").html('');
      $("#links").html('');
      var pass = $("#patient_pass_pull").val()
      var a = parseInt(document.getElementById("patient_id_pull").value);

      _contract_address.Patient_detail_map.call(a, function (err, res) {
        if (res[4] == 0) {
          _contract_address.Patient_detail_map.call(a, function (error, result) {
            if (!error) {
              if (result[0] == '') {
                $("#_patient_name_show").val('');
                $("#_patient_birth_date_show").val('');
                $("#_place_of_birth_show").val('');
                $("#_gender_show").val('');
                $("#links").html('');
                swal("Invalid Patient Id");
              }
              else {
                document.getElementById("_patient_name_show").value = result[0];
                var date = new Date(result[1] * 1000).toLocaleDateString();
                document.getElementById("_patient_birth_date_show").value = date;
                document.getElementById("_place_of_birth_show").value = result[2];

                if (result[3] == true) {
                  document.getElementById("_gender_show").value = "male";
                }
                else if (result[3] == false) {
                  document.getElementById("_gender_show").value = "female";
                }
              }
            }
          });
        }
        else {
          for (i = 1; i <= res[4]; i++) {
            _contract_address.show_data.call(a, i, function (erro, rest) {
              if (!erro) {

                // $("#links").append("<a>Download</a>")
                $.get("https://ipfs.infura.io/ipfs/" + rest[1], function (result) {

                  var decrypted = CryptoJS.AES.decrypt(result, pass).toString(CryptoJS.enc.Latin1);
                  if (!/^data:/.test(decrypted)) {
                    $('#footer').html('')
                    $('#footer').html('<h4 style="color:red"><i>Invalid pass phrase or file! Please try again.</i></h4>')
                    $("#patient_pass_pull").val('');
                    // alert("Invalid pass phrase or file! Please try again.");
                    return false;
                  }
                  else {
                    $('#footer').html('')
                    $('#footer').html('<h4 style="color:green"><i>Passphrase Matched!... You can Download Your File</i></h4>')
                  }
                  // console.log(decrypted);
                  blob = new Blob([decrypted], { type: "octet/stream" })

                  $("#links").append("<a type='data:application/octet-stream' download='" + rest[0] + "' class='height' href='" + decrypted + "' >" + rest[0] + "</a><br>")
                });

              }
              else {
                // swal("error");
              }
            });

            _contract_address.Patient_detail_map.call(a, function (error, result) {
              if (!error) {
                $('#_patient_birth_date_show').val();
                $('#_gender_show').val();
                $('#_gender_show').val();
                document.getElementById("_patient_name_show").value = result[0];
                var date = new Date(result[1] * 1000).toLocaleDateString();

                if ($('#patient_id_pull').val() != '') {
                  document.getElementById("_patient_birth_date_show").value = date;
                }

                document.getElementById("_place_of_birth_show").value = result[2];


                if ($('#patient_id_pull').val() != '') {

                  if (result[3] == true) {
                    document.getElementById("_gender_show").value = "male";
                  }
                  else if (result[3] == false) {
                    document.getElementById("_gender_show").value = "female";
                  }
                }
                else {
                  swal("error");
                }
              }
            });
          }
        }
      })
    }

    function upload() {
      $("#result").html('')
      $("#result").removeAttr('style')
      $("#content").html('')
      $("#result_list").html('')
      $("#hm").removeClass("active");
      $("#add").removeClass("active");
      $("#upload").addClass("active");
      $("#view").removeClass("active")
      $("#result").html('<div class="row"><div class="col-sm-2"></div><div class="col-sm-10"> <h3>Add Patient Details</h3><br><br> <div  id="target" >\
          <div class="col-sm-12">\
      <div class="col-sm-12">\
        <div class="group"> <input class="input" type="text" id="patient_id_push" #Patient ID required>\
             <span class="highlight"></span>\
           <span class="bar"></span>\
             <label>Enter Patient ID</label>\
           </div>\
    </div>\
    <div class="col-sm-12">\
        <div class="group"> <input class="input" type="text" id="file_name_push" required>\
             <span class="highlight"></span>\
            <span class="bar"></span>\
             <label>Enter File Name</label>\
           </div>\
    </div>\
    <div class="col-sm-12">\
        <div class="group"> <input class="input" type="password" id="secret"  required>\
             <span class="highlight"></span>\
          <span class="bar"></span>\
           <label>Enter Passphrase</label>\
        </div>\
    </div>\
    <div class="col-sm-12">\
    <div class="row">\
    <div class="col-sm-4" id="pick">\
      <p for="data" ><b>Choose a File to Encrypt:</b></p><input type="file" id="data" class="form-control"/><br>\
    </div>\
  </div>\
</div>\
    <div class="col-sm-12" id="file_holder">\
    </div>\
    </div>\
    <div class="col-sm-12">\
    <div class="col-sm-6" id="key">\
    </div>\
    </div>\
  </div>\
  <div  id="foot"><br><br>\
    <img id="loader" src="./loader1.gif" value="transaction pending" style="width: 57px;display:none;">\
    </div>\
  </div>\
</div>\
  </div>\
')
 
      $('#pick').hide();
      var status1 = false;
      var status2 = false;
      $('#patient_id_push').on('change', function (e) {
        status1 = true;
        // console.log(e.target.value+status1)

      });
      $('#file_name_push').on('change', function (e) {
        status2 = true
        // console.log(e.target.value+status2)
      });


      $('#secret').on('input', function (e) {

        if ($('#secret').val().length < 5) {
          $('#foot').html('<h4 style="color:red"><i>Passphrase Must be atleast 5 character</i></h4>')
        }
        else {
          $('#foot').html('<h4 style="color:green"><i>You need to remember your passphrase for Downloading the File</i></h4>')
        }
      })

      // if(status1 && status2 ==true &&  $('#secret').val().length >5)
      // {

      //   $('#pick').show();
      // }
      // else
      // {
      //   $('#pick').hide();
      // }

      $('#target').on('input', function () {
        if (status1 && status2 == true && $('#secret').val().length >= 5) {

          $('#pick').show();
        }
        else {
          $('#pick').hide();
        }
      })



      $('#data').on('change', function (e) {
        // console.log(e);

        var file = null;
        var password = $('#secret').val();
        var a = $('#patient_id_push').val();
        var b = $('#file_name_push').val();
        // Has a file been selected?

        if (e.target.files.length != 1) {
          swal('Please select a file to encrypt!');
          return false;
        }

        file = e.target.files[0];
        var file_extension = file.name.trim().split(".")[1];
        b = b + file_extension;

        if (file.size > 1024 * 1024) {
          swal('Please choose files smaller than 1mb, otherwise you may crash your browser. \nThis is a known issue. See the tutorial.');
          // return;
        }

        var reader = new FileReader();

        reader.onload = function (e) {
          // console.log(e.target.result);
          encrypted = CryptoJS.AES.encrypt(e.target.result, password);

          const files = [{ path: '/' + a.trim() + '/' + file.name, content: encrypted }]

          const buf = buffer.Buffer(encrypted.toString());
          //  console.log(buf);

          ipfs.files.add(buf, function (err, ipfsHash) {
            if (!err) {
              let hash = ipfsHash[0].hash;
              // console.log(a,b,hash);

              _contract_address.store_info.sendTransaction(a, b, hash, function (errors, results) {
                if (!errors) {
                  mining(results)
                }
                else {
                  // console.log("error");
                  $('#patient_id_push').val('')
                  $('#file_name_push').val('')
                  $('#data').val('')
                }
              });
            }
            else {
              console.log(err);

            }
          })
        };

        reader.readAsDataURL(file);

      });

    }

    $('#encrypt').click(function () {
      var password = $('#secret').val();

      $('#secret').val('');
      if (password.length < 5) {
        swal('Please choose a longer password!');
      }
    });

  
function register() {
      $("#result").html('')
      $("#result").removeAttr('style')
      $("#content").html('')
      $("#result_list").html('')
      $("#hm").removeClass("active");
      $("#add").addClass("active");
      $("#upload").removeClass("active");
      $("#view").removeClass("active");
      $("#result").html('<div class="row"><div class="col-sm-2"></div><div class="col-sm-10"><h3>Patient Registration</h3><br><br>  <div class="col-sm-12">\
         <div class="col-sm-6">\
          <div class="group"> <input class="input" type="text" id="_patient_name" #patient name required>\
            <span class="highlight"></span>\
            <span class="bar"></span>\
            <label>Enter Patient Name</label>\
          </div>\
          <div>\
          <h4 for="_patient_birth_date">Birth date:</h4>\
        <input type="date"  name="bday" id="_patient_birth_date"><br>\
      </div><br><br>\
          <div class="group"> <input class="input" type="text" id="_place_of_birth" #Birth place required>\
            <span class="highlight"></span>\
            <span class="bar"></span>\
            <label>Enter Birth place</label>\
          </div>\
          <div>\
          <h4 for="radio">Gender:</h4>\
        <p><input type="radio" name="optradio" id="g1" value="1"> Male</p>\
        <p><input type="radio" name="optradio" id="g2" value="0"> Female</p><br>\
        </div>\
          <div>\
        <input type="button" class="btn success" value="Save" onclick="push_info()">\
        <img id="loader2" src="./loader1.gif" value="transaction pending" style="width: 57px;display:none;">\
         </div></div></div>')

    } function view_details() {
      $("#result").html('')
      // $("#result").attr("style","border-right: 2px solid #FF9800;")
      $("#content").html('')
      $("#result_list").html('')
      $("#hm").removeClass("active");
      $("#add").removeClass("active");
      $("#upload").removeClass("active");
      $("#view").addClass("active");
      $("#result").html(' <form class="col-sm-10">\
      <center><h3>Patient Details</h3></center><br><br>\
        <div class="col-sm-12">\
        <div class="col-sm-12">\
        <div class="group">  \
            <input class="input" type="text" id="patient_id_pull" required>\
                <span class="highlight"></span>\
                <span class="bar"></span>\
                <label >Enter Patient Id</label>\
              </div>\
        </div>\
        <div class="col-sm-12">\
        <div class="group">  \
            <input class="input" type="password" id="patient_pass_pull" required>\
                <span class="highlight"></span>\
                <span class="bar"></span>\
                <label >Enter Patient Password</label>\
              </div>\
        </div>\
        <div class="col-sm-12">\
          <br> \
        <input type="button" class="btn success" value="Show details" onclick="show_details()">\
        &nbsp;&nbsp;&nbsp;&nbsp;<label id="download"></label>\
        </div>\
        </div>\
        <div class="col-sm-12">\
        <div class="col-sm-12"><br> \
        <div class="row">\
          <div class="col-sm-6">\
        <h4><b>Patient Name:</b></h4>\
        <input type="text" class="form-control"  id="_patient_name_show" readonly>\
        </div>\
      </div>\
      </div>\
        <div class="col-sm-12"><br>\
          <div class="row">\
          <div class="col-sm-6">\
        <h4><b>Birth date:</b></h4>\
        <input type="text" class="form-control"  id="_patient_birth_date_show" readonly>\
        </div>\
      </div>\
      </div>\
        </div>\
        <div class="col-sm-12">\
        <div class="col-sm-12"><br>\
          <div class="row">\
          <div class="col-sm-6">\
        <h4><b>Birth place:</b></h4>\
        <input type="text" class="form-control"  id="_place_of_birth_show" readonly>\
        </div>\
      </div>\
      </div>\
        <div class="col-sm-12"><br>\
          <div class="row">\
          <div class="col-sm-6">\
        <h4><b>Gender:</b></h4>\
        <input type="text" class="form-control" id="_gender_show" readonly><br><br>\
      </div>\
        </div>\
      </div>\
      </div>\
      </div>\
      <h4 id="footer"><br><br><br> </h4>\
  </form>');
      $("#result_list").append('<div class="col-sm-2" ><br><br>\
          <div class="bs-example" >\
          <div class="panel panel-primary">\
        <div class="panel-heading">\
            <h3 class="panel-title" style="color:black;height:30px"><b class="b">Files:</b>\
        </div>\
        <div class="panel-body pre-scrollable" id="links"></div>\
    </div>\
</div>\
')



    }
    function home() {
      $("#result").html('')
      $("#result_list").html('')
      $("#hm").addClass("active");
      $("#add").removeClass("active");
      $("#upload").removeClass("active");
      $("#view").removeClass("active");
      $("#content").html(' <div id="txt">\
    <p align="center">\
    <font size="22">Medical Record System</font>\
    </p><font size="5" align="center">&nbsp;&nbsp;&nbsp;&nbsp;Health care is the maintenance or improvement of health via the prevention, diagnosis, and treatment of disease, illness, injury and other physical and mental impairments in human beings.</font></p></div>')
    }
  </script>
</body>

</html>